const part05_story = [
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '쿠코, 오늘 부쿠로까지 와줘서 고마워.',
      jpn: '空却、今日はブクロまで来てくれてありがとな。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '오우, 오늘 즐거웠지!',
      jpn: 'おう、今日は楽しかったろ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '하하, 응. 옛날로 돌아간 것 같았어.',
      jpn: 'はは、うん。昔に戻ったみたいだったよ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '그때도 이렇게 하루종일 같이 놀았으니까.',
      jpn: 'あの時もこうやって一日中一緒に遊んでたから。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '뭘 과거에 잡혀있는거냐, 이치로!',
      jpn: 'いつまで過去にこだわってんだよ、一郎ぉ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '앞으로도 계속 이렇게 하루종일 노는 날이 더 많을거다!',
      jpn: 'これからは、こうやって一日中遊べる日、もっと増えるだろ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '그렇네.',
      jpn: 'そうだな。'
    }
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '진구지 쟈쿠라이',
      jpn: '神宮寺 寂雷'
    },
    text: {
      kor: '이치로 군이 행복해 보이네요, 잘됐습니다.',
      jpn: '一郎くんが幸せそうで、よかったです。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '됐어, 집에 돌아갈거야.',
      jpn: 'もういいや、家に帰る。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '이치형이 먼저 집에 돌아가서 내가 없는 걸 보면 걱정할 거고...',
      jpn: '一兄が先に帰って、俺がいなかったら心配するだろうし……'
    }
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '진구지 쟈쿠라이',
      jpn: '神宮寺 寂雷'
    },
    text: {
      kor: '좋은 생각입니다, 사부로 군.',
      jpn: 'いい考えです、三郎くん。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '나도 돌아간다.',
      jpn: '俺も帰る。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '앞으로 이런 쓸데없는 거에 부르지마.',
      jpn: 'これからはこういうくだらないことで呼ぶなよ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '그럼, 잘 가! 쿠코.',
      jpn: 'じゃあ、元気でな！空却。'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '어이, 이치로오!!!!!!!!!!',
      jpn: 'おい、一郎ぉ！！！！！！！！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '우앗!',
      jpn: 'うわっ！'
    },
    bgChange: 'end05',
    hideDialogue: true
  },
  {
    characters: [
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '갑자기 안으면 놀라잖아!',
      jpn: 'いきなり抱きつくなよ、びっくりするだろ！'
    }
  },
  {
    characters: [
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '기대하고 있으라고! 소승은 언제든 또 너를 보러 갈거니까!',
      jpn: '楽しみにしとけよ！拙僧はいつでもお前に会いに行くからな！'
    }
  },
  {
    characters: [
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '너야말로, 다음엔 내가 나고야에 갈 수도 있는 거잖아?',
      jpn: 'お前こそ、今度は俺がナゴヤに行くかもしれないだろ？'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '아니, 소승이 간다!',
      jpn: 'いや、拙僧が行く！'
    },
    bgRestore: true
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '아냐, 내가 갈거야!',
      jpn: 'いや、俺が行く！'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '소승이!',
      jpn: '拙僧が！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '내가!',
      jpn: '俺が！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '...사실, 뭐든 좋아.',
      jpn: '……正直、どっちでもいいな。'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '소승도다. 중요한건 다른 말이지.',
      jpn: '拙僧もだ。大事なのは、そこじゃねえだろ？'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: 'いちくう',
      jpn: 'いちくう'
    },
    text: {
      kor: '꼭, 다음에도 보자고.',
      jpn: '絶対、また会おうぜ。'
    }
  },
  {
    characters: [
    ],
    speaker: {
      kor: '',
      jpn: ''
    },
    text: {
      kor: '...',
      jpn: '...'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '...다음에 부를 일 같은건 없어. 이런걸로.',
      jpn: '……こんなことで、もう呼んだりしねぇよ。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '훗, 잘 생각했다.',
      jpn: 'フッ、いい判断だ。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '똑똑하잖아.',
      jpn: 'かしこいじゃねえか。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '애취급 하지마!',
      jpn: '子ども扱いすんな！'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '(사부로가 웃는 표정이면 좋겠어...)',
      jpn: '…'
    }
  },
  {
    next: './game/end05.html'
  }
];



$(function () {
  const seenEndings = JSON.parse(localStorage.getItem('seenEndings') || '[]');
		const hasEnd05 = seenEndings.includes('end05');

		if (hasEnd05) {
			$('.skipBtn').show();
		} else {
			$('.skipBtn').hide();
		}

  bgmManager.play('goodEnd', true, false);
  bgmManager.fadeIn(0.7, 2000);
  initDialogue({ sectionSelector: '.part05_story', script: part05_story });
});

$('.skipBtn').click(function () {
    const lastLine = part05_story[part05_story.length - 1];
    if (lastLine.next) {
        $('.container-inner').css('opacity', 0).load(lastLine.next, function () {
            $('.container-inner').animate({ opacity: 1 }, 800);
        });
    }
});
