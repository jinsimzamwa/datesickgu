const part03_story = [
  {
    characters: [
    ],
    speaker: '',
    text: '(ザワザワ)'
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '나는 차슈랑 계란 추가해서... 쿠코는?'
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '소승은 가라아게도 먹을래!'
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: '天国 獄',
    text: '소란스러운 가게네.'
  },
  {
    characters: [
      { name: 'rei', position: 'center', expression: 'default' },
    ],
    speaker: '天谷奴 零',
    text: '미행이 들킬 염려는 없겠어~'
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'center', expression: 'default' },
      { name: 'jakurai', position: 'right', expression: 'default' },
    ],
    speaker: '天国 獄',
    text: '좋은 일인지, 나쁜 일인지... 어이, 삼남. 넌 뭘로 할래?'
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'center', expression: 'default' },
      { name: 'jakurai', position: 'right', expression: 'default' },
    ],
    speaker: '山田三郎',
    text: '그런 거에 신경 쓸 시간 없어!'
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'center', expression: 'default' },
      { name: 'jakurai', position: 'right', expression: 'default' },
    ],
    speaker: '神宮寺 寂雷',
    text: '사부로군. 여기서는 무언가 주문하는 편이 좋겠어요.'
  },
  {
    characters: [
      { name: 'hitoya', position: 'left', expression: 'default' },
      { name: 'saburo', position: 'center', expression: 'default' },
      { name: 'jakurai', position: 'right', expression: 'default' },
    ],
    speaker: '天国 獄',
    text: '그래, 내가 사줄테니 뭐라도 시켜.'
  },
  {
    characters: [
      { name: 'rei', position: 'center', expression: 'default' },
    ],
    speaker: '天谷奴 零',
    text: '아마구니 선생이 사준다니 아저씨는 술도 하나 추가해서~'
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: '天国 獄',
    text: '어른은 스스로 사먹어.'
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' },
    ],
    speaker: '神宮寺 寂雷',
    text: '나는 기본이면 될 것 같아, 히토야.'
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: '天国 獄',
    text: '스스로 사먹으라고!'
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: '山田三郎',
    text: '시끄럽네, 정말!'
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '맛있겠다~'
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '잘먹겠습니다!',
  },
   {
    characters: [
      { name: 'rei', position: 'center', expression: 'default' }
    ],
    speaker: '天谷奴 零',
    text: '어이쿠, 빨리 나왔네~',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '맛있다!',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '역시 여기가 싸고, 양도 많아서 최고야.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '가라아게도 바삭하고, 맛있어!!',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '하하, 엄청 잘먹네.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '…',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '여기서 가라아게를 먹어본 적은 없네.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '그거, 맛있어?',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '엉? 당연하지! 가라아게는 무조건 맛있는 음식이라고!',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '…',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '궁금해.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '그럼 하나 더 주문해.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '아니! 맛만 보면 되니까.',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '그러냐? 이치로에게라면 가라아게 하나 쯤은 못줄 것도 없지. 자...',
  },
   {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '잠깐!',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '아!? 아까부터 대체 뭔데!',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '아 덜어달라는게 아니라... 실은 그으...',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '먹여주면 좋겠어.',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '뭐야, 그런거냐? 맥빠지게. 그런건 빨리 말하라고!',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '미안.',
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: '波羅夷 空却',
    text: '그럼 자, 아 해라.',
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '…',
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: '山田一郎',
    text: '아...',
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' }
    ],
    speaker: '山田三郎',
    text: '끄응~ 여기선 대화가 잘 안들려!',
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' }
    ],
    speaker: '神宮寺 寂雷',
    text: '잠깐, 저기...',
  },
  {
    characters: [
      { name: 'rei', position: 'center', expression: 'default' }
    ],
    speaker: '天谷奴 零',
    text: '먹여주려나 본데, 이야~ 뜨겁다니까~',
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' }
    ],
    speaker: '山田三郎',
    text: '젠장, 이치니가 눈치채지 못하는 선에서 방해해야만해! 저런 난잡한 행동, 난 용납 못해!',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '네가 결정할 문제가 아니라니까!',
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' }
    ],
    speaker: '神宮寺 寂雷',
    text: '그렇다면, 제가 이 젓가락으로 막도록 하죠.',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '넌 또 뭘 장단맞추고 있냐!',
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' }
    ],
    speaker: '山田三郎',
    text: '수다 떨 시간에 빨리 해!',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '또 엉망이잖아...!',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '내게는 참을 수 없는게 두가지 있다.',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '하나, 식사를 방해하는것.',
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: '天国 獄',
    text: '둘, 가게 비품으로 장난질 하는거다!',
  },
  {
    next: './game/part03_game.html'
  }
];


$(function () {
  const seenEndings = JSON.parse(localStorage.getItem('seenEndings') || '[]');
		const hasEnd05 = seenEndings.includes('end05');

		if (hasEnd05) {
			$('.skipBtn').show();
		} else {
			$('.skipBtn').hide();
		}
  
  bgmManager.play('story2', true, false);
  bgmManager.fadeIn(0.7, 2000);
  initDialogue({ sectionSelector: '.part03_story', script: part03_story });
});

$('.skipBtn').click(function () {
    const lastLine = part03_story[part03_story.length - 1];
    if (lastLine.next) {
        $('.container-inner').css('opacity', 0).load(lastLine.next, function () {
            $('.container-inner').animate({ opacity: 1 }, 800);
        });
    }
});
