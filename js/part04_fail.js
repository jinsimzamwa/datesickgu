const part04_fail = [
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '큭...!',
      jpn: 'くっ…！'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '젠장...!',
      jpn: 'くっそ…！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '쿠, 쿠코...',
      jpn: 'く、空却……'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '소승은 포기하지 않아! 계속 도전한다!',
      jpn: '拙僧はあきらめねーぞ！ 挑戦し続ける！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '…',
      jpn: '…'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '…',
      jpn: '…'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '뭔가 기계가 이상해... 이렇게까지 안될 리가 없는데.',
      jpn: 'なんか機械の調子が…ここまで取れないはずがない。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '고장인가?',
      jpn: '故障か？'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '그딴 것에 질까보냐! 소승이 근성을 보여주마!',
      jpn: 'そんなことで負けるのか！拙僧の根性、見せてやるぜ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '…',
      jpn: '…'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '…',
      jpn: '…'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '저, 쿠코. 이건 기계 문제가 있는 것 같아...',
      jpn: 'なあ、空却、これって機械の不具合かもな……'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '하필 이럴 때 직원도 보이지 않고.',
      jpn: 'こんな時に限って店員も見当たらないし。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '젠장, 한번 더 해본다!',
      jpn: 'くっそ、もう一回だ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '아냐 쿠코...! 지금까지 쓴 돈이면 메○카리에서 다섯개는 더 산다!',
      jpn: 'だめだ空却！今まで使ったお金、メ○カリなら5個は買えるよ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '게다가, 신칸센 시간이 곧이잖아.',
      jpn: 'それに、新幹線の時間ももうすぐだろ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '...아쉽지만, 쿠코가 노력해줘서 난 기뻐.',
      jpn: '……残念だけど、空却が頑張ってくれただけで俺は十分嬉しいよ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '칫...',
      jpn: 'チッ……'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '미안, 이치로.',
      jpn: '悪い、一郎。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '바보야, 왜 사과하는 거야.',
      jpn: 'バカ、なんで謝るんだよ。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '해냈다!',
      jpn: 'やった！'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '어이, 삼남.',
      jpn: 'おい、三男。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '훌륭하게 방해했군. 만족하나?',
      jpn: '見事に妨害したな。満足か？'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '당연히!',
      jpn: '当然だ！'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '당연히...',
      jpn: '当然……。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '모르겠어.',
      jpn: 'わかんないよ。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '저 녀석은 이치형과 사귀기엔 형편없는 놈이야. 그건 명백한 사실이라 생각했어. 하지만.',
      jpn: 'あいつは一兄と付き合うには不釣り合いな奴だと思った。それは明白な事実だと思った。でも——'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '...',
      jpn: '...'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '모르겠어. 하지만...난 이치형이 저런 표정 짓는걸 원하진 않았어.',
      jpn: 'わかんない。でも…僕、兄貴にあんな顔、させたかったわけじゃないんだ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '나는 여기서 직원을 기다려 볼게.',
      jpn: '俺、ここで店員を待ってみるよ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '상황을 설명하면, 돈을 돌려받진 못하더라도 인형정돈 받을 수 있을거야.',
      jpn: '事情をちゃんと話せば、返金は無理でもぬいぐるみくらいはもらえるんじゃないか？'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '됐어, 그러지 않아도.',
      jpn: 'もういいって、そこまでしなくても。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '아냐...!',
      jpn: 'いや…！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '난 쿠코의 노력을 헛수고로 날려보내고 싶지 않아.',
      jpn: '俺は空却の頑張りを無駄にしたくないんだ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '반드시 받아낸다!',
      jpn: '絶対に手に入れてみせる！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '...그리고, 네게 꼭 내 인형을 주고 싶어.',
      jpn: '……それに、お前に俺のぬいぐるみ、あげたいんだよ。'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '바보냐.',
      jpn: 'バカかよ。'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '하지만 그런 소중한 마음, 소승이 무시할 수야 없지.',
      jpn: 'だが、その大事な気持ち、拙僧が無視できるわけがなかろう！'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '뒤를 부탁한다! 이치로!',
      jpn: 'あとは任せたぞ！一郎！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '응, 이번은 역까지 배웅해주진 못하지만....',
      jpn: 'うん、今日は駅まで送ってあげられないけど……'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '다음은 더 재밌게 놀자, 쿠코!',
      jpn: '次はもっと楽しく遊ぼうな、空却！'
    }
  },
  {
    characters: [
      { name: 'kuko', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '그래. 당연하지!',
      jpn: 'ああ、もちろんだ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '…',
      jpn: '…'
  }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '…',
      jpn: '…'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '그래도, 역시 쿠코가 직접 뽑아주는걸 보고 싶었는데.',
      jpn: 'でもやっぱり、空却が自分で取るとこ見たかったな。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '...너무 형편 좋은 이야기였나.',
      jpn: '……都合のいい話だったかな。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '이치형...',
      jpn: '一兄……'
    }
  },
  {
    next: './game/end04.html'
  }
];

$(function () {
    const seenEndings = JSON.parse(localStorage.getItem('seenEndings') || '[]');
		const hasEnd05 = seenEndings.includes('end05');

		if (hasEnd05) {
			$('.skipBtn').show();
		} else {
			$('.skipBtn').hide();
		}
    
  initDialogue({ sectionSelector: '.part04_fail', script: part04_fail });
});

$('.skipBtn').click(function () {
    const lastLine = part04_fail[part04_fail.length - 1];
    if (lastLine.next) {
        $('.container-inner').css('opacity', 0).load(lastLine.next, function () {
            $('.container-inner').animate({ opacity: 1 }, 800);
        });
    }
});
