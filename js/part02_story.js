const part02_story = [
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '어딜 그렇게 두리번거리는거냐.',
      jpn: 'なにキョロキョロ探してんだよ？'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '예전에 갔던 라멘집... 기억나?',
      jpn: '前に行ったラーメン屋…覚えてるか？'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '아, 이치로가 물 쏟았던 곳이잖냐!',
      jpn: 'お、オメーが水こぼしたとこだな！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '햣하, 실례한것처럼 바지가 젖어서 우스꽝스러웠지.',
      jpn: 'ヒャハ！ズボンが濡れて、おもらししたみたいになってたっけ！'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '그런 사소한 실수는 잊어줘...',
      jpn: 'そういう細かい失敗は忘れてくれ…'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 이치로',
      jpn: '山田一郎'
    },
    text: {
      kor: '최근에 가게를 이전해서, 위치를 찾아가야해.',
      jpn: '最近移転したらしくて、場所調べなきゃ。'
    }
  },
  {
    characters: [
      { name: 'ichiro', position: 'left', expression: 'default' },
      { name: 'kuko', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '하라이 쿠코',
      jpn: '波羅夷 空却'
    },
    text: {
      kor: '뭐, 이치로가 가는 길이라면 소승은 어디든 따라갈 수 있지.',
      jpn: 'ま、一郎の行く道ならよ、拙僧はどこだってついて行けるぜ。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '감히 이치형과 소근소근 즐겁게 대화하다니...',
      jpn: '一兄と仲良くコソコソ話しやがって…！'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '평범하게 사이좋은 연인이잖아',
      jpn: 'ただの仲のいい恋人同士じゃないか。'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '저런 놈이랑 이치형이 연인인게 문제인거라고!',
      jpn: 'だからー！あんなヤツが一兄の恋人なのが問題なんだよ！'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '제발 진정 좀 해라.',
      jpn: '少し落ち着けよ。'
    }
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '진구지 쟈쿠라이',
      jpn: '神宮寺 寂雷'
    },
    text: {
      kor: '태워줘서 고마워, 히토야. 덕분에 미행이 쉬워지고 있어.',
      jpn: '助かったよ、獄。君のおかげで尾行が随分楽になっている。'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '하나도 기쁘지 않아',
      jpn: ' ちっとも嬉しくない。'
    }
  },
  {
    characters: [
      { name: 'rei', position: 'left', expression: 'default' },
      { name: 'hitoya', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마야도 레이',
      jpn: '天谷奴 零'
    },
    text: {
      kor: '아마구니, 전방에 웅덩이가 있어.',
      jpn: '天国、前方に水たまりがあるぜ。'
    }
  },
  {
    characters: [
      { name: 'rei', position: 'left', expression: 'default' },
      { name: 'hitoya', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '아아, 조심해서 운전중이야.',
      jpn: 'ああ、ちゃんと注意して運転してる。'
    }
  },
  {
    characters: [
      { name: 'rei', position: 'left', expression: 'default' },
      { name: 'hitoya', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마야도 레이',
      jpn: '天谷奴 零'
    },
    text: {
      kor: '저길 밟아주면, 타이밍에 따라선 저녀석들에게 딱 좋게 물이 튀길지도 모르지~?',
      jpn: 'ほら、あそこ踏んでやりゃ、タイミング次第でいい感じにであいつらにぶっかかるかもなぁ？'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '제법 쓸모있는 말도 할 줄 아는데?',
      jpn: 'けっこう役に立つこと言えるんだな？'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '쓸모없어...!',
      jpn: '役に立たねぇ…！'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'left', expression: 'default' },
      { name: 'hitoya', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '야마다 사부로',
      jpn: '山田三郎'
    },
    text: {
      kor: '아마구니! 타이밍을 잘 맞춰서 물 웅덩이를 밟는거야!',
      jpn: '天国！タイミング合わせて水たまり踏め！'
    }
  },
  {
    characters: [
      { name: 'saburo', position: 'left', expression: 'default' },
      { name: 'hitoya', position: 'right', expression: 'default' },
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '안해, 그런거!',
      jpn: 'やらんぞ、そんなこと！'
    }
  },
  {
    characters: [
      { name: 'jakurai', position: 'center', expression: 'default' }
    ],
    speaker: {
      kor: '진구지 쟈쿠라이',
      jpn: '神宮寺 寂雷'
    },
    text: {
      kor: '히토야...!',
      jpn: '獄…！'
    }
  },
  {
    characters: [
      { name: 'hitoya', position: 'center', expression: 'default' }
    ],
    speaker: {
      kor: '아마구니 히토야',
      jpn: '天国 獄'
    },
    text: {
      kor: '아!!!',
      jpn: 'あっ！！'
    }
  },
  {
    next: './game/part02_game.html'
  }
];



$(function () {
  initDialogue({ sectionSelector: '.part02_story', script: part02_story });

  const seenEndings = JSON.parse(localStorage.getItem('seenEndings') || '[]');
		const hasEnd05 = seenEndings.includes('end05');

		if (hasEnd05) {
			$('.skipBtn').show();
		} else {
			$('.skipBtn').hide();
		}
});

$('.skipBtn').click(function () {
    const lastLine = part02_story[part02_story.length - 1];
    if (lastLine.next) {
        $('.container-inner').css('opacity', 0).load(lastLine.next, function () {
            $('.container-inner').animate({ opacity: 1 }, 800);
        });
    }
});
